/* ========= Notegood Base ========= */
:root {
  --bg: #0b1220;
  --card: #101827;
  --card-soft: #0f172a;
  --text: #e5e7eb;
  --text-muted: #a1a8b6;
  --ring: rgba(255,255,255,.08);
  --shadow: 0 10px 30px rgba(0,0,0,.35);

  /* Notegood gradient */
  --grad-a: #6a11cb;
  --grad-b: #2575fc;

  /* Buttons */
  --btn: #0f172a;
  --btn-text: #e6edf7;
  --btn-soft: #172036;
  --btn-primary: #111827;
  --btn-danger: #c0392b;

  /* Area pastels */
  --A: #e6e9ff;  --A-b: #3b5bff;
  --C: #ffe9ec;  --C-b: #ff5770;
  --MC:#eaf9ff;  --MC-b:#0ea5e9;
  --E: #fff5e6;  --E-b: #f59e0b;
  --I: #e8fff3;  --I-b: #10b981;
  --S: #f6e8ff;  --S-b: #8b5cf6;
  --J: #fff0f0;  --J-b: #ef4444;

  /* Estado dots */
  --ok:#16a34a;
  --in:#3b82f6;
  --av:#22c55e;
  --bl:#9ca3af;
}

/* light */
[data-theme="light"] {
  --bg:#f6f7fb;
  --card:#ffffff;
  --card-soft:#f2f4f9;
  --text:#0f172a;
  --text-muted:#6b7280;
  --btn:#0f172a;
  --btn-text:#f8fafc;
  --btn-soft:#e8edf6;
  --btn-primary:#0f172a;
}

/* Reset */
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  background:var(--bg);
  color:var(--text);
  font:16px/1.4 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial;
}

.ng-container{max-width:1100px;margin:0 auto;padding:0 16px}

/* ========= Topbar ========= */
.ng-topbar{
  background:linear-gradient(135deg,var(--grad-a),var(--grad-b));
  color:#fff;
  padding:18px 0 12px;
  box-shadow:var(--shadow);
  position:sticky; top:0; z-index:50;
}
.ng-topbar__inner{
  display:flex;align-items:center;justify-content:space-between;
}
.ng-topbar__brand{font-weight:800;letter-spacing:.5px}

.ng-topbar__stats{
  display:grid;gap:10px;margin-top:12px;
}
.ng-legend{display:flex;flex-wrap:wrap;gap:18px;font-weight:600}
.legend-item{display:inline-flex;align-items:center;gap:8px}
.dot{width:10px;height:10px;border-radius:50%}
.dot.ok{background:var(--ok)} .dot.in{background:var(--in)}
.dot.av{background:var(--av)} .dot.bl{background:var(--bl)}
.tag{padding:2px 6px;border-radius:6px;font-size:.75rem;font-weight:800}
.tag--ob{background:#111827;color:#fff}
.tag--op{background:#0ea5e9;color:#fff}

.ng-counters{display:flex;gap:18px;font-weight:700}
.ng-progress{display:flex;align-items:center;gap:10px}
.ng-progress__bar{width:240px;height:10px;background:rgba(255,255,255,.2);border-radius:999px;overflow:hidden}
.ng-progress__fill{height:100%;background:#fff;border-radius:999px}
.ng-progress__label{font-weight:800}

/* ========= Actions ========= */
.ng-actions{
  display:flex;align-items:center;justify-content:space-between;
  gap:12px; padding:18px 0;
}
.ng-actions__left,.ng-actions__right{
  display:flex;flex-wrap:wrap;gap:10px;align-items:center;
}
.ng-input,.ng-select{
  background:var(--card);
  color:var(--text);
  border:1px solid var(--ring);
  border-radius:10px;padding:10px 12px;min-width:160px;
}

/* Buttons */
.ng-btn{
  border:1px solid transparent; border-radius:12px;
  background:var(--btn); color:var(--btn-text);
  padding:10px 14px; font-weight:800; cursor:pointer;
}
.ng-btn--ghost{background:transparent;border-color:rgba(255,255,255,.5);color:#fff}
[data-theme="light"] .ng-btn--ghost{color:#0f172a;border-color:#c9d4ea}
.ng-btn--soft{background:var(--btn-soft);color:var(--text)}
.ng-btn--primary{background:#111827;color:#fff}
.ng-btn--danger{background:var(--btn-danger)}
.ng-btn:focus{outline:2px solid #fff;outline-offset:2px}

/* ========= Cards Año/Semestre ========= */
.year-card{
  background:var(--card-soft);
  border:1px solid var(--ring);
  border-radius:18px;
  padding:16px;
  margin:22px 0;
  box-shadow:var(--shadow);
}
.year-card__title{
  font-size:1.4rem;font-weight:900;margin:0 0 12px 0;
}
.sem-list{
  display:grid; gap:12px;
}
@media (min-width: 900px){
  .sem-list{ grid-template-columns: 1fr 1fr; }
}
.sem{
  background:var(--card);
  border:1px solid var(--ring);
  border-radius:14px;
  padding:12px;
}
.sem__title{margin:0 0 10px 0;font-weight:800;opacity:.9}

/* ========= Materia chips ========= */
.m-grid{display:grid; gap:10px;}
.materia{
  display:flex;align-items:center;justify-content:space-between;
  gap:10px; padding:10px 12px;
  border-radius:12px; border:1px solid var(--ring);
  background:var(--card);
  transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
  cursor:pointer;
}
.materia:hover{transform:translateY(-1px); box-shadow:0 12px 24px rgba(0,0,0,.25)}
.m-name{font-weight:800}
.m-meta{font-size:.85rem;opacity:.8}
.m-right{display:flex;align-items:center;gap:10px}
.badge{padding:2px 8px;border-radius:999px;font-size:.75rem;font-weight:900;border:1px solid var(--ring);background:rgba(255,255,255,.05)}
.badge--state{display:flex;align-items:center;gap:6px}

/* Estados */
.materia.aprobada{border-color:rgba(34,197,94,.45);box-shadow:0 0 0 2px rgba(34,197,94,.25) inset;background:rgba(34,197,94,.05)}
.materia.cursando{border-color:rgba(59,130,246,.45);box-shadow:0 0 0 2px rgba(59,130,246,.25) inset;background:rgba(59,130,246,.05)}
.materia.bloqueada{opacity:.65}

/* Áreas pastel (borde izquierdo y tag) */
.materia.A{background:linear-gradient(90deg,var(--A) 0 14px,transparent 14px) , var(--card); border-left:14px solid var(--A-b, #3b5bff)}
.materia.C{background:linear-gradient(90deg,var(--C) 0 14px,transparent 14px) , var(--card); border-left:14px solid var(--C-b, #ff5770)}
.materia.MC{background:linear-gradient(90deg,var(--MC) 0 14px,transparent 14px) , var(--card); border-left:14px solid var(--MC-b, #0ea5e9)}
.materia.E{background:linear-gradient(90deg,var(--E) 0 14px,transparent 14px) , var(--card); border-left:14px solid var(--E-b, #f59e0b)}
.materia.I{background:linear-gradient(90deg,var(--I) 0 14px,transparent 14px) , var(--card); border-left:14px solid var(--I-b, #10b981)}
.materia.S{background:linear-gradient(90deg,var(--S) 0 14px,transparent 14px) , var(--card); border-left:14px solid var(--S-b, #8b5cf6)}
.materia.J{background:linear-gradient(90deg,var(--J) 0 14px,transparent 14px) , var(--card); border-left:14px solid var(--J-b, #ef4444)}

.m-tags{display:flex;gap:6px}
.t-pill{padding:2px 8px;border-radius:999px;font-size:.72rem;font-weight:900}
.tp-ob{background:#111827;color:#fff}
.tp-op{background:#0ea5e9;color:#fff}

/* ========= Modal ========= */
.ng-modal{border:none;background:transparent}
.ng-modal[open]{display:grid;place-items:center}
.ng-modal__card{
  background:var(--card);color:var(--text);
  border:1px solid var(--ring);border-radius:16px;box-shadow:var(--shadow);
  padding:18px;max-width:720px;width:min(720px,92vw);
}
.ng-modal__actions{display:flex;justify-content:flex-end;gap:10px;margin-top:14px}
.op-list{display:grid;gap:8px;max-height:52vh;overflow:auto;margin-top:10px}
.muted{color:var(--text-muted)}
.cfg-block{margin:14px 0}
.cfg-title{font-weight:800;margin:0 0 6px}
.cfg-item{display:block;margin:6px 0}

/* small */
@media (max-width: 720px){
  .ng-actions{flex-direction:column;align-items:flex-start}
  .ng-progress__bar{width:180px}
}
